# Project Architecture

–û–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞: —É—Ä–æ–≤–Ω–∏ —Å–∏—Å—Ç–µ–º—ã, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

---

## üèõ –£—Ä–æ–≤–Ω–∏ —Å–∏—Å—Ç–µ–º—ã

### 1. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (src/Controller)
- –ü—Ä–∏–Ω–∏–º–∞—é—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã.
- –í–∞–ª–∏–¥–∏—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –≤—ã–∑—ã–≤–∞—é—Ç —Å–µ—Ä–≤–∏—Å—ã.
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç HTTP-–æ—Ç–≤–µ—Ç—ã (JSON, HTML).

### 2. –°–µ—Ä–≤–∏—Å—ã (src/Service)
- –°–æ–¥–µ—Ä–∂–∞—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.
- –ù–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –Ω–∞–ø—Ä—è–º—É—é.
- –ú–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–µ API.

### 3. –°—É—â–Ω–æ—Å—Ç–∏ (src/Entity)
- –û—Ç—Ä–∞–∂–∞—é—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î (Doctrine ORM).
- –°–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª—è, —Å–≤—è–∑–∏, lifecycle callbacks (onPrePersist/onPreUpdate).
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ Doctrine –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞.

### 4. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (src/Repository)
- –î–æ—Å—Ç—É–ø –∫ –ë–î —á–µ—Ä–µ–∑ Doctrine ORM.
- –°–æ–¥–µ—Ä–∂–∞—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤—ã–±–æ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

### 5. –¢–µ—Å—Ç—ã (tests/)
- PHPUnit ‚Äî –º–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã.
- DataProvider –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–µ—Ç—Ç–µ—Ä–æ–≤/—Å–µ—Ç—Ç–µ—Ä–æ–≤.
- –¢–µ—Å—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ (API –∏ –≤–µ–±-—Ä–æ—É—Ç–æ–≤).

### 6. CI/CD (.github/workflows/)
- `qa.yml` ‚Äî –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (lint, stan, test).
- `ci.yml` ‚Äî –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω (coverage).
- `migrations.yml` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ Doctrine –º–∏–≥—Ä–∞—Ü–∏–π.
- `full-ci.yml` ‚Äî –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω (qa + migrations + tests).
- `nightly.yml` ‚Äî –Ω–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã.
- `release.yml` ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–ª–∏–∑–æ–≤.
- `deploy.yml` ‚Äî –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

### 7. Docker (docker/, docker-compose.*.yml)
- Dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å hot reload.
- Prod –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å PHP-FPM + Nginx + PostgreSQL.
- Test –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å PHPUnit + PHPStan –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

---

## üîó –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä** ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç **–°–µ—Ä–≤–∏—Å** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **–°—É—â–Ω–æ—Å—Ç—è–º–∏** –≤ –ë–î.
- **–¢–µ—Å—Ç—ã** –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è.
- **CI/CD** –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤–µ—Å—å –∫–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ.
- **Docker** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–ø–∫–∏
- `src/` ‚Äî –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- `tests/` ‚Äî —Ç–µ—Å—Ç—ã.
- `docker/` ‚Äî –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Nginx, PHP-FPM).
- `.github/workflows/` ‚Äî CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã.
- `migrations/` ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ Doctrine.
- `fixtures/` ‚Äî —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤.

---
‚úÖ –≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç, –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.
