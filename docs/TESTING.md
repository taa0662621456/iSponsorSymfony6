# Running Tests

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ, —Ç–∞–∫ –∏ –≤ Docker.

## üß™ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
composer install
```

–ó–∞–ø—É—Å–∫ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤:

```bash
vendor/bin/phpunit -c phpunit.xml.dist
```

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º:

```bash
vendor/bin/phpunit -c phpunit.xml.dist --coverage-html build/coverage --coverage-text
```

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:

```bash
vendor/bin/phpstan analyse src --level=max
```

## üê≥ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ Docker

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose.test.yml`:

```bash
docker-compose -f docker-compose.test.yml up --build --exit-code-from app
```

–≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤—ã–ø–æ–ª–Ω–∏—Ç:

- `vendor/bin/phpunit` (—é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã)
- `vendor/bin/phpstan analyse src --level=max` (PHPStan)

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ (`postgres:15`, –ø–æ—Ä—Ç 5434).

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å PHP:
```bash
make lint
```

- –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (lint + stan + test):
```bash
make check
```

- –ó–∞–ø—É—Å—Ç–∏—Ç—å QA (check + php-cs-fixer dry-run):
```bash
make qa
```

---
‚úÖ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≥–æ–Ω—è—Ç—å —Ç–µ—Å—Ç—ã –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ, —Ç–∞–∫ –∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.
